---
layout: post
title: Linux (1)
published: false
date:   2022-10-31
description: 리눅스 기초와 가상환경 환경 구축
toc: true
comments: true
tags:
 - linux
---
---
# VirtualBOx Network 종류
실제컴-Host PC
가상컴-Guest PC

근거리 통신망을 빠져나가려면(WAN으로 나가려면) GATEWAY가 필요
들어올 때는 router(라우터)를 통해서 내부 HOST PC를 연결해 준다.


하나의 HOST PC 안에서도 GUEST PC를 둘 수 있다.
HOST PC와도 통신이 가능해야 하고,
이 GUEST PC들도 외부(WAN)와 통신이 가능해야 한다.

NAT
: 내부의 GUEST PC간의 통신 안됨, GUEST PC와 HOST PC간 통신도 안됨, GUEST PC가 WAN과는 통신이 가능
호스트가 게스트에 접속하려면 포트포워딩을 하면 된다. (포트포워딩: 몇번 포트로 들어오면 어느 피시의 포트로 연결해준다)

NAT Network
: 게스트간의 연결이 가능하다. 게스트 피시들이 하나의 네트워크를 구성한다.

Host Only Adapter
:게스트 피시에서 외부로 통신할 방법이 없다.

Adapter Bridge
: 외부에서 들어올 순 없다.

Internal Network
: 게스트 피시들만 연결이 가능하다.

Host Only와 Nat를 혼합해서 쓸것(어댑터1, 2 두개 사용해서)


리눅스의 종류
1. 레드헷 계열
    centOS, 페도라 등
    RPM 패키지 메니저
    
2. 베리안 계열
    우분투, 민트리눅스 등
    패키지 명이 다름d...뭐시기

Install CentOS 7 in basic graphics mode: GUI모드로 설치하지 않고 기본 설치
Rescue a CentOS system: 응급 복구 모드

개발 및 창조를 위한 워크스테이션
추가 개발, 호환성 라이브러리, 개발용 툴, 시스테 관리 도구

LVM: 소프트웨어 레벨에서 레이드를 묶어주는 시스템
리눅스 시스템은 메모리에 공간이 있으면 가상메모리 사용하지 않음
마운트 지점 swap: 가상 메모리
리눅스의 기본 파일시스템: ext

10.0.2.* : VirtualBOx 에서 재공하는 NAT 서버 주소

도메인 네임 서비스: 도메인 주소를 IP주소로 변환해 줌

도메인 네임 서비스를 제공하는 서버 DNS

---
쉘(Sheel): 사용자가 입력한 명령을 머신이 실행할 수 있게 번역, 로그인시 쉘을 획득(구동)
* exit, 컨트롤+D: 쉘 종료

프롬프트
커런시 심볼$ : 일반 권한
해시# : 현재 관리자 권환

sudo(system user do) 명령:  관리자 권한 실행

sudo su -: 이전 획득한 sheel에 root sheel을 추가 획득

~ : 현재 사용자의 홈 디렉토리
홈 디렉토리의 파일을 참조해야 할 경우

* etc: 현재 디렉토리 하위의 etc
    (./ect) 와 같음
* /etc: 절대경로(루트 디렉토리 하위의 etc)
* ~/etc: 절대경로(홈 디렉토리 하위의 ect)

~[계정] : 해당 계정의 홈 디렉토리

who : 누가 접속해 있는지 나타내 준다.
:0은 xwindow의 연결을 나타낸다
    xwindow는 텍스트로 명령을 내리는 것이 아닌 gui로 출력
pst/0은 0번 가상 콘솔을 나타낸다.



yum install openssh-server

---
shutdown 옵션 시간 [메시지]

---
# ssh 설치 및 실행
secure shell
default 포트: 22
systemctl 시스템 컨트롤 start sshd(ssh 데몬)
    status sshd : 상태보기
    enable sshd : 시스템 재부팅 시 서버 구동

파일 업로드: scp를 이용, 디렉토리는 불가, 압축을 하거나 해서 해야 한다.

---
# 리눅스 시스템의 명령체계
Tab 두번 : 해당 문자로 시작하는 명령어 검색
    Tab 한번 : 해당 객체가 하나일 경우 디렉토리 자동완성

* 환경변수
: 시스템을 운용하고 관리하기 위해 매크로화 시킨 값
    쉘이 운영체제를 사용하기 위해서 필요한 변수
$PATH 등록된 경로는 ':'로 구분된다.

사용자 변수 지정은 변수 그대로 넣지만 변수를 참조 할 때는 $(커린시 심볼)을 붙여야 인식한다.

리눅스의 명령구성

명령 [옵션][대상] (옵션과 대상의 순서는 바뀔 수 있다)

-l: 긴 형태로 출력(자세히)
-la: 모든 파일 (-l, -a 구분해서 명령할 수도 있음)

파일 복사 등과 같이 대상의 순서를 지켜줘야 하는 명령도 있음

> ctrl+l : clear와 같은 기능

# 리눅스 디렉토리 구성
* dev폴더: 장치
1. 케릭터 타입 디바이스 : 데이터의 입출력만
2. 블록 디바이스: 데이터를 저장

* etc: 환경설정 파일

lost+found : 유실된 파일
media, mnt 장치가 마운트되는 디렉토리(요즘은 media)
proc: 프로세스와 시스템의 전반적인 정보가 저장
root: 루트게정의 홈 디렉토리
usr: 주로 응용프로그램이 들어감 bin-실행파일 sbin-시스템 실행파일
var: log등 가변적인 파일들이 들어감

---
# man 페이지
명령에 대한 메뉴얼 + 설치된 언어에 대한 함수 등

## ls
숫자 위아래, PgUp, PgDn: 페이지 이동
g: 첫 라인
숫자g: 숫자 라인으로
G(shift+g): 마지막 라인

/검색어: 현재 커서 아래로 검색 n:다음, N(shift+n):이전
?(shift+/)검색어: 현재커서 위로 검색 n:다음, N(shift+n):이전

q: 나가기

## passwd
매뉴얼을 보기전에 whereis 사용하기
매뉴얼의 종류와 위치 확인 가능 1, 5번 섹션이 존재 -> man 5 passwd

less : 파일 내용 보기 (메뉴얼이 less를 이용해 실행되므로 단축키를 그대로 사용 가능)

---
# 파일 및 디렉토리 관련 명령

ctrl+c 강제종료
ctrl+z 일시정지

절대경로
    /: root
    ~: 현재 유저의 홈 디렉토리
    ~계정명: 계정 유저의 홈 디렉토리

상대경로
    .: 현재 디렉토리
    ..: 한단계 부모 디렉토리
> pwd: 현재 디렉토리 출력

윈도우 시스템에는 확장자, 폴더, 디렉토리가 있다
posix에서는 '/etc/fstab' 전체가 파일명, 즉 루트로 부터의 경로 전체가 파일명이다.
/etc/ssh 파일 일수도 디렉토리 일수도; 파일도 파일, 디렉토리도 파일이라고 함.
차이점은 파일은 DATA를 가지고 디렉토리는 파일 또는 디렉토리 목록을 가진다.

/etc/ssh/: 경로뒤에 /붙으면 디렉토리라고 명확히 알려줌

-i: inode값을 출력(inode: 블럭상의 위치, 파일 번호)
    모든 파일과 디렉토리는 inode를 붙여 관리한다. 즉 파일명은 inode의 별칭이다.


## 파일복사, 이동, 삭제
소스가 여러게 올 수 있으나 마지막은 디렉토리여야 함
### cp(copy)
    -l: (하드링크)inode 데이터에 별칭을 하나더 붙임(하드링크: 복사가 아니라 링크)

    cp memo a/
    이름을 지정하지 않으면 그대로 복사 (a가 디렉토리임을 명확히 함)

    cp memo a/text
    이름이 지정되어 복사(text뒤에 /가 없으므로)

    -s: (심볼릭 링크) 실제 파일이 아니라 바로가기, 실제로는 ln명령을 쓴다.

mkdir(make dir): 디렉토리 생성
    -p: 경로상 디렉토리가 없으면 만들어서 생성

### mv(move)
    이름변경에도 사용
    mv memo1 memo11 (memo11이라는 폴더가 없을 시)

    -b: 동일 파일 존재시 백업본(~파일명) 만든다
    -f: 묻지말고 복사할것

    cat ~/.bashrc 를 보면 rm cp mv에 -i 옵션이 들어간다!
        -f가 들어가도 -i옵션이 우선된다.(root 계정이기에) 가능하면 위험하기에 주의

### rm(remove)
    디렉토리 삭제시 -d(숏옵션) 또는 --directory(롱옵션) 쓸 것

rmdir: 디렉토리가 비어야 디렉토리 삭제 가능



69페이지 까지 읽어보자















{% highlight bash linenos %}
bash
{% endhighlight bash %}